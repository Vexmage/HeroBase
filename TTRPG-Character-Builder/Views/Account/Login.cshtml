@model TTRPG_Character_Builder.Models.LoginViewModel

@{
    ViewData["Title"] = "Login";
}

<h2>Login</h2>
<form method="post" asp-action="Login" asp-controller="User" id="loginForm">
    <input asp-for="Username" placeholder="Username" required id="usernameField" />
    <input asp-for="Password" placeholder="Password" required type="password" />
    <button type="submit">Login</button>
</form>

@if (ViewBag.Users != null)
{
    <h2>User List</h2>
    <ul>
        @foreach (var user in ViewBag.Users)
        {
            <li class="user-name" style="cursor: pointer;">@user.Username</li>
        }
    </ul>
}

@section Scripts {
    <script>
        // JavaScript to handle the click event on usernames
        document.querySelectorAll('.user-name').forEach(item => {
            item.addEventListener('click', event => {
                document.getElementById('usernameField').value = event.target.textContent;
            });
        });
    </script>
}

